<!doctype html>
<html class="no-js" lang="">

<head>
  <meta charset="utf-8">
  <title>Onexpo</title>
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <script src="https://code.jquery.com/jquery-3.3.1.min.js"
    integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.7.1/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.7.1/ScrollTrigger.min.js"></script>

  <link rel="manifest" href="site.webmanifest">

  <link rel="stylesheet" href="css/app.css">
  <link rel="stylesheet" href="css/slick.css">

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500&display=swap" rel="stylesheet">

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@500&display=swap" rel="stylesheet">

</head>

<body>
  <nav class="nav">
    <div class="container">
      <a href="index.html"><p>Home</p></a>
      <a href="afiliados.html"><p>Afiliados</p></a>
      <a href="onexpored.html"><p>Onexpored</p></a>
      <img src="img/logo.png" class="logo">
      <img src="img/logoColor.png" class="logoColor">
      <a href="noticias.html"><p>Noticias</p></a>
      <a href="ext/pdf.pdf" target="_blank"><p>Revista</p></a>
      <a href="contacto.html"><p>Contacto</p></a>

      <div class="burguer">
        <div></div>
        <div></div>
        <div></div>
      </div>
    </div>
  </nav>

  <div class="responsive-nav">
    <a href="index.html"><p>Home</p></a>
    <a href="afiliados.html"><p>Afiliados</p></a>
    <a href="onexpored.html">
      <p>Onexpored</p>
    </a>
    <a href="noticias.html"><p>Noticias</p></a>
    <a href="ext/pdf.pdf" target="_blank">
      <p>Revista</p>
    </a>
    <a href="contacto.html"><p>Contacto</p></a>
  </div>

  <section class="news-home ancla">
    <div>
      <p class="date">18.11.21</p>
      <h2>Avanza petróleo por ajuste de inventario</h2>
      <p>Agradeciendo como siempre, tu lealtad y participación en
        todos nuestros eventos y planes de beneficios constantes para el sector gasolinero...</p>
      <button class="button">Leer más</button>
    </div>

    <div class="card-slider">


      <!-- <div class="card" data-slide="one">
        <img src="img/noticias1.jpg">
        <p>texto</p>
      </div> -->
    </div>



  </section>

  <section class="news-two ">
    <div class="container" id="newsContainer">
      <!-- <div class="news a text">
        <img src="img/Enmascarar grupo 2.jpg">
        <div class="texto">
          <div class="date">
            <p>17.11.21</p>
          </div>
          <h3>SENER ha cancelado 1866 permisos
            de importación de hidrocarburos
          </h3>
          <p>Lorem Ipsum es simplemente el texto de relleno de las
            imprentas y archivos de texto. Lorem Ipsum ha sido el
            texto de relleno estándar de las industrias</p>
        </div>
      </div> -->
    </div>
  </section>

  <section class="contacto">
    <h2 class="text">Contáctanos</h2>
    <div class="container">
      <div class="left">
        <form>
          <div class="input-container">
            <label>
              <input type="text" placeholder="Nombre completo">
            </label>
            <label>
              <input type="tel" placeholder="Teléfono">
            </label>
          </div>


          <textarea placeholder="Mensaje"></textarea>
        </form>

        <div>
          <a href="https://www.facebook.com/OnexpoPuebla" target="_blank">
            <div class="info last">
              <img src="img/facebook-f.svg" class="icon fb">
              <p class="text">OnexpoPuebla</p>
            </div>
          </a>
          <a href="https://www.instagram.com/onexpo.puebla/" target="_blank">
            <div class="info last">
              <img src="img/instagram.svg" class="icon">
              <p class="text">onexpo.puebla</p>
            </div>
          </a>
          <button class="button">Enviar</button>
        </div>



      </div>
      <div class="right">
        <div class="info">
          <img src="img/map.svg" class="icon">
          <div>
            <p class="text">Calz. Zavaleta 703 Col. Campestre el Paraíso.</p>
            <p class="text">Edif. 202E Segundo Piso. CP 72150 Puebla Pue.</p>
          </div>

        </div>
        <div class="info">
          <img src="img/phone.svg" class="icon">
          <p class="text">222 254 90.21 | 222 439 0211
          </p>
        </div>
        <div class="info">
          <img src="img/envelope-open-text.svg" class="icon">
          <p class="text">info@onexpopuebla.com
          </p>
        </div>
        <a href="https://twitter.com/onexpopuebla" target="_blank">
          <div class="info last">
            <img src="img/twitter.svg" class="icon">
            <p class="text">OnexpoPuebla</p>
          </div>
        </a>

      </div>
    </div>
    <a href="ext/aviso_privacidad.pdf" target="_blank"><p class="aviso">Aviso de privacidad</p></a>
  </section>

  <script>

    async function getAllNews() {
      temp = false;
      const yourServerUrl =
        "https://api-us-east-1.graphcms.com/v2/ckxrslv5g1dga01z93loq8v5e/master";
      const yourQuery = {
        query: `query MyQuery {
          posts {
            featuredImage {
              url
            }
            title
            excerpt
            id
          }
        }
      `,
      };
      id = "hhhhh";
      const xhr = new XMLHttpRequest();
      xhr.responseType = "json";
      xhr.open("POST", yourServerUrl, true);
      xhr.setRequestHeader("Content-Type", "application/json");
      xhr.onloadend = function () {
        if (xhr.readyState === XMLHttpRequest.DONE && xhr.status == 200) {
          //console.log(xhr.response['data']['postsConnection']['edges']);
          const post = xhr.response["data"]["posts"];
          for (var i = 0; i < post.length; i++) {
            console.log(post[i]);
            document.querySelector("#newsContainer").insertAdjacentHTML(
              "beforeend",
              `<div class="news a text">
              <img src="` +
              post[i]["featuredImage"]["url"] +
              `">
            <div class="texto">
                <h3>` +
              post[i]["title"] +
              `</h3>
              <p>` +
              post[i]["excerpt"] +
              `</p>
                <a href='noticia.html?id=` +
              post[i]["id"] +
              `' class="button">Ver más</a>
            </div>
          </div>`
            );
          }
        }
      };
      xhr.send(JSON.stringify(yourQuery));
    }

    async function getNewsSlider() {
      temp = false;
      const yourServerUrl =
        "https://api-us-east-1.graphcms.com/v2/ckxrslv5g1dga01z93loq8v5e/master";
      const yourQuery = {
        query: `query MyQuery {
                posts {
                  id
                  featuredImage {
                    url
                  }
                  title
                }
              }
      `,
      };

      const xhr = new XMLHttpRequest();
      xhr.responseType = "json";
      xhr.open("POST", yourServerUrl, true);
      xhr.setRequestHeader("Content-Type", "application/json");
      xhr.onloadend = function () {
        if (xhr.readyState === XMLHttpRequest.DONE && xhr.status == 200) {
          const post = xhr.response["data"]["posts"];
          for (var i = 0; i < post.length; i++) {
            document.querySelector(".card-slider").insertAdjacentHTML(
              "beforeend",
              `
            <div class="card">
              <a href='noticia.html?id=` +
              post[i]["id"] +
              `' >
            <img src="` +
              post[i]["featuredImage"]["url"] +
              `">
              <h3>` +
              post[i]["title"] +
              `</h3>
          </a>
            </div>
          `
            );
          }
          $(".card-slider").slick({
            pauseOnHover: false,
            dots: false,
            arrows: false,
            autoplay: true,
            speed: 1000,
            slidesToShow: 3,
            slidesToScroll: 1,
            responsive: [
              {
                breakpoint: 1200,
                settings: {
                  slidesToShow: 2,
                  slidesToScroll: 1,
                },
              },
              {
                breakpoint: 850,
                settings: {
                  slidesToShow: 1,
                  slidesToScroll: 1,
                },
              }
            ],
          });
        }
      };
      xhr.send(JSON.stringify(yourQuery));
    }



    getAllNews()
    getNewsSlider()


  </script>
  <script type="text/javascript" src="js/slick.js"></script>

  <script src="js/scripts.js"></script>
</body>

</html>